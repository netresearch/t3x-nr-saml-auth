services:
  _defaults:
    autowire: true
    autoconfigure: true
    public: false

  Netresearch\NrSamlAuth\:
    resource: '../Classes/*'
    exclude:
      - '../Classes/Domain/Model/*'

  # Controllers
  Netresearch\NrSamlAuth\Controller\AuthController:
    tags: ['backend.controller']

  Netresearch\NrSamlAuth\Controller\SamlAuthController:
    tags: ['backend.controller']

  # Services
  Netresearch\NrSamlAuth\Service\SamlService:
    public: true

  # Repositories
  Netresearch\NrSamlAuth\Domain\Repository\SettingsRepository:
    public: true

  # Session handling
  Netresearch\NrSamlAuth\Session\SamlSession:
    public: true

  # Authentication Service (TYPO3 auth service registration)
  Netresearch\NrSamlAuth\Sv\AuthenticationService:
    public: true

  # Middleware
  Netresearch\NrSamlAuth\Middleware\DeepLinkSsoMiddleware:
    public: true

  # Event Listeners use PHP 8 #[AsEventListener] attributes
  # No YAML registration needed for TYPO3 v12+
